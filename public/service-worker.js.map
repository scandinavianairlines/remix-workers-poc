{
  "version": 3,
  "sources": ["routes-module:root.jsx?worker", "empty-module:@remix-run/node", "empty-module:react/jsx-runtime", "routes-module:routes/_index.jsx?worker", "routes-module:routes/_app.jsx?worker", "routes-module:routes/te.jsx?worker", "entry-module:@remix-pwa/build/magic", "routes-module:routes/_app.flights.($id).jsx?worker", "../app/routes/_app.flights.($id).jsx", "../node_modules/@remix-pwa/sw/src/message/message.ts", "../node_modules/@remix-pwa/sw/src/core/logger.ts", "../node_modules/@remix-pwa/sw/src/message/precacheHandler.ts", "../app/entry.worker.js", "../scripts/service-worker.js"],
  "sourcesContent": ["module.exports = {};", "module.exports = {};", "module.exports = {};", "module.exports = {};", "module.exports = {};", "module.exports = {};", "\n\n    import * as route0 from 'root.jsx?worker';\nimport * as route1 from 'routes/_app.flights.($id).jsx?worker';\nimport * as route2 from 'routes/_index.jsx?worker';\nimport * as route3 from 'routes/_app.jsx?worker';\nimport * as route4 from 'routes/te.jsx?worker'\n\n    export const routes = [\n      { file: \"root.jsx\", path: \"\", module: route0, id: \"root\", parentId: \"undefined\", },\n{ file: \"routes/_app.flights.($id).jsx\", path: \"flights/:id?\", module: route1, id: \"routes/_app.flights.($id)\", parentId: \"routes/_app\", },\n{ file: \"routes/_index.jsx\", path: \"undefined\", module: route2, id: \"routes/_index\", parentId: \"root\", },\n{ file: \"routes/_app.jsx\", path: \"undefined\", module: route3, id: \"routes/_app\", parentId: \"root\", },\n{ file: \"routes/te.jsx\", path: \"te\", module: route4, id: \"routes/te\", parentId: \"root\", }\n    ];\n\n    import * as entryWorker from  '/Users/juanpablogarciaripa/w/sas/remix-workers-poc/app/entry.worker.js?user';\n    ", "export { workerAction, workerLoader } from \"./routes/_app.flights.($id).jsx\";\n          export const hasWorkerAction = true;\n          export const hasWorkerLoader = true", "import { redirect, json } from '@remix-run/node';\nimport { useLoaderData, Form, useNavigation } from '@remix-run/react';\n\n// `_app.flights.[$id].jsx` -- -> `/flights/:id`\n\nexport function loader() {\n  return json({\n    flights: [\n      {\n        date: '2023-07-01T23:30:00',\n        arrival: 'EZE',\n        departure: 'ARN',\n        flightId: 1,\n        flightNumber: 'SK0000',\n      },\n      {\n        date: '2023-07-06T07:35:00',\n        arrival: 'ARN',\n        departure: 'EZE',\n        flightId: 2,\n        flightNumber: 'SK0001',\n      },\n    ],\n  });\n}\n\nexport const workerAction = async ({ request }) => {\n  console.log('hola')\n}\n\nexport const workerLoader = async ({ request }) => {\n  console.log('hola')\n}\n\nexport async function action({ request }) {\n  const formData = await request.formData();\n  const flight = formData.get('flightId');\n\n  console.log(flight, 'here is the flight id');\n\n  return redirect('/');\n}\n\nexport default function FlightsRoute() {\n  const { flights } = useLoaderData();\n  const navigation = useNavigation();\n  const loading = navigation.state !== 'idle';\n\n  return (\n    <div>\n      <h1>Flights</h1>\n\n      <section>\n        <Form method=\"post\">\n          <fieldset disabled={loading}>\n            {flights.map(flight => (\n              <div key={flight.flightId}>\n                <label>\n                  <input type=\"radio\" name=\"flightId\" value={flight.flightId} />\n                  {flight.flightNumber}\n                </label>\n              </div>\n            ))}\n          </fieldset>\n          <button\n            type=\"submit\"\n            disabled={loading}\n          >\n            {loading ? 'Loading...' : 'Submit'}\n          </button>\n        </Form>\n      </section>\n    </div>\n  );\n}\n", null, null, null, "/// <reference lib=\"WebWorker\" />\n// NOTE: if we import from @remix-pwa/sw, the bundle will be too big ass is not tree-shakable apparently\nimport { PrecacheHandler } from '@remix-pwa/sw/lib/message/precacheHandler.js';\n\nconst PAGES = \"page-cache\";\nconst DATA = \"data-cache\";\nconst ASSETS = \"assets-cache\";\nconst STATIC_ASSETS = [\"/build/\", \"/icons/\", \"/favicon.ico\"];\n\nconst precacheHandler = new PrecacheHandler({\n  dataCacheName: DATA,\n  documentCacheName: PAGES,\n  assetCacheName: ASSETS,\n});\n\n// let self;\n\n// export const defaultFetchHandler = (event) => {\n//   //\n//   console.log(event);\n// }\n\n// export const register = (self) => {\nself.addEventListener(\"install\", (event) => {\n  event.waitUntil(self.skipWaiting());\n});\n\nself.addEventListener(\"activate\", (event) => {\n  event.waitUntil(self.clients.claim());\n});\n\nself.addEventListener(\"message\", (event) => {\n  event.waitUntil(precacheHandler.handle(event));\n});\n\n// self.addEventListener(\"fetch\", (event) => {\n//   console.log(\"entry\")\n//   event.respondWith(defaultHandler(event));\n// });\n", "import * as build from '@remix-pwa/build/magic'\n// import { matchLoaderRequest, isLoaderRequest } from '@remix-pwa/sw'\n\n// if the user export a `defaultFetchHandler` inside the entry.worker.js, we use that one as default handler\nconst defaultHandler = build.entry.module.defaultFetchHandler || ((event) => event.responseWith(fetch(event.request.clone())));\n\nconsole.log(build.routes)\n// build.entry.module.register(self)\n// TODO add fetch event listener per each route here\nself.addEventListener(\"fetch\", (event) => {\n  console.log(build.routes)\n  console.log(event)\n  console.log(event.request.url)\n  console.log(event.request.url.searchParams.get('_data'))\n  const url = new URL(event.request.url)\n  const data = url.searchParams.get('_data')\n  // loaders & actions --> GET ?_data={route.id} & POST ?_data={route.id}\n\n  const route = build.routes.find(route => route.id === data)\n  console.log(route)\n  if (route.hasWorkerLoader) {\n    const handler = route.module.workerLoader\n    return event.respondWith(handler(event))\n  } else {\n    return event.respondWith(defaultHandler(event))\n  }\n});\n\n\n\n\n\nconsole.log(build.routes)\n"],
  "mappings": "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",
  "names": ["routes", "route"]
}
